<html>
<head>
<script src="../../Loader.js"></script>
<script type="text/javascript">
var waitTime = 2;

function test_Full_DiscoveryRecord(t) {
	t.plan(2);
    OpenLayers.Request.GET({
		url:"../files/DiscoveryRecord.xml",
		success:function(resp) {
			var reader = new OpenLayers.Format.CSWGetRecords();
			var results = reader.read(resp.responseText);
			t.eq(results.SearchResults.numberOfRecordsReturned,10,"10 full records returned");
			t.eq(results.records.length,10,"10 full records parsed");
		},
		scope:this
	});
    t.wait_result(waitTime);
}

function test_Summary_DiscoveryRecord(t) {
	t.plan(2);
    OpenLayers.Request.GET({
		url:"../files/DiscoverySummaryRecord.xml",
		success:function(resp) {
			var reader = new OpenLayers.Format.CSWGetRecords();
			var results = reader.read(resp.responseText);
			t.eq(results.SearchResults.numberOfRecordsReturned,10,"10 summary records returned");
			t.eq(results.records.length,10,"10 summary records parsed");
		},
		scope:this
	});
    t.wait_result(waitTime);
}

function test_Brief_DiscoveryRecord(t) {
	t.plan(2);
    OpenLayers.Request.GET({
		url:"../files/DiscoveryBriefRecord.xml",
		success:function(resp) {
			var reader = new OpenLayers.Format.CSWGetRecords();
			var results = reader.read(resp.responseText);
			t.eq(results.SearchResults.numberOfRecordsReturned,10,"10 brief records returned");
			t.eq(results.records.length,10,"10 brief records parsed");
		},
		scope:this
	});
    t.wait_result(waitTime);
}

</script>
<body>
</body>
</html>
